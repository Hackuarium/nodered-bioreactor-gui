[{"id":"d56d2dda.ec0a5","type":"tab","label":"testMqtt","disabled":true,"info":""},{"id":"4489e6f.9f73318","type":"tab","label":"parseLog","disabled":true,"info":""},{"id":"c5669537.d71768","type":"tab","label":"testDashboard","disabled":false,"info":""},{"id":"1013011c.82c3ef","type":"mqtt-broker","z":"","name":"broker","broker":"localhost","port":"1883","clientid":"","usetls":false,"compatmode":false,"keepalive":"60","cleansession":true,"birthTopic":"","birthQos":"0","birthPayload":"","closeTopic":"","closeQos":"0","closePayload":"","willTopic":"","willQos":"0","willPayload":""},{"id":"2a22f749.6390c8","type":"ui_tab","z":"","name":"Home","icon":"dashboard","disabled":false,"hidden":false},{"id":"c0d97701.38fda8","type":"ui_group","z":"","name":"Default","tab":"2a22f749.6390c8","order":1,"disp":true,"width":"6","collapse":false},{"id":"3b241c9d.d7d464","type":"ui_base","theme":{"name":"theme-dark","lightTheme":{"default":"#0094CE","baseColor":"#ffe111","baseFont":"-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif","edited":true,"reset":false},"darkTheme":{"default":"#097479","baseColor":"#ffdf00","baseFont":"-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif","edited":true,"reset":false},"customTheme":{"name":"Untitled Theme 1","default":"#4B7930","baseColor":"#4B7930","baseFont":"-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif"},"themeState":{"base-color":{"default":"#097479","value":"#ffdf00","edited":true},"page-titlebar-backgroundColor":{"value":"#ffdf00","edited":false},"page-backgroundColor":{"value":"#111111","edited":false},"page-sidebar-backgroundColor":{"value":"#ffffff","edited":false},"group-textColor":{"value":"#ffe94d","edited":false},"group-borderColor":{"value":"#555555","edited":false},"group-backgroundColor":{"value":"#333333","edited":false},"widget-textColor":{"value":"#eeeeee","edited":false},"widget-backgroundColor":{"value":"#ffdf00","edited":false},"widget-borderColor":{"value":"#333333","edited":false},"base-font":{"value":"-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif"}},"angularTheme":{"primary":"indigo","accents":"blue","warn":"red","background":"grey"}},"site":{"name":"Node-RED Dashboard","hideToolbar":"false","allowSwipe":"false","lockMenu":"false","allowTempTheme":"true","dateFormat":"DD/MM/YYYY","sizes":{"sx":48,"sy":48,"gx":6,"gy":6,"cx":6,"cy":6,"px":0,"py":0}}},{"id":"832bc3dc.d63c","type":"inject","z":"d56d2dda.ec0a5","name":"","topic":"","payload":"","payloadType":"date","repeat":"","crontab":"","once":false,"onceDelay":0.1,"x":240,"y":100,"wires":[["ed0de825.c24088"]]},{"id":"3011c72.a3d9138","type":"mqtt out","z":"d56d2dda.ec0a5","name":"","topic":"","qos":"","retain":"","broker":"1013011c.82c3ef","x":550,"y":100,"wires":[]},{"id":"e9088cd2.5b1e4","type":"mqtt in","z":"d56d2dda.ec0a5","name":"","topic":"bioreactor/a/#","qos":"2","datatype":"auto","broker":"1013011c.82c3ef","x":210,"y":240,"wires":[["944a9ad3.00e5c8"]]},{"id":"49d2e692.05b8b8","type":"debug","z":"d56d2dda.ec0a5","name":"","active":true,"tosidebar":true,"console":false,"tostatus":false,"complete":"false","x":550,"y":240,"wires":[]},{"id":"ed0de825.c24088","type":"change","z":"d56d2dda.ec0a5","name":"set topic","rules":[{"t":"set","p":"topic","pt":"msg","to":"bioreactor/q/2/h","tot":"str"}],"action":"","property":"","from":"","to":"","reg":false,"x":400,"y":100,"wires":[["3011c72.a3d9138"]]},{"id":"944a9ad3.00e5c8","type":"function","z":"d56d2dda.ec0a5","name":"toString","func":"msg.payload = msg.payload.toString();\nreturn msg;","outputs":1,"noerr":0,"x":380,"y":240,"wires":[["49d2e692.05b8b8"]]},{"id":"a60d88af.070a38","type":"inject","z":"4489e6f.9f73318","name":"","topic":"","payload":"","payloadType":"date","repeat":"","crontab":"","once":false,"onceDelay":0.1,"x":240,"y":160,"wires":[["807df71c.769668"]]},{"id":"ae245219.14075","type":"mqtt out","z":"4489e6f.9f73318","name":"","topic":"","qos":"","retain":"","broker":"1013011c.82c3ef","x":550,"y":160,"wires":[]},{"id":"559f68bc.17ccf8","type":"mqtt in","z":"4489e6f.9f73318","name":"","topic":"bioreactor/a/#","qos":"2","datatype":"auto","broker":"1013011c.82c3ef","x":210,"y":300,"wires":[["5cd7bb0a.098ec4","e7285e5f.8b5a9"]]},{"id":"58191347.ec8f3c","type":"debug","z":"4489e6f.9f73318","name":"","active":false,"tosidebar":true,"console":false,"tostatus":false,"complete":"false","x":550,"y":300,"wires":[]},{"id":"807df71c.769668","type":"change","z":"4489e6f.9f73318","name":"set topic","rules":[{"t":"set","p":"topic","pt":"msg","to":"bioreactor/q/2/ll","tot":"str"}],"action":"","property":"","from":"","to":"","reg":false,"x":400,"y":160,"wires":[["ae245219.14075"]]},{"id":"5cd7bb0a.098ec4","type":"function","z":"4489e6f.9f73318","name":"toString","func":"const LegoinoUtil = global.get('LegoinoUtil');\n\nlet parts=msg.topic.split('/');\n\nif (parts.length!==4) return;\n\nlet data=LegoinoUtil.parseMultilogLine(msg.payload, {\n    kind: parts[1],\n    parameterLabel: true,\n    parameterInfo: false,\n    parametersArray: false,\n    flatten: true\n  });\n\nlet tags={\n    type: parts[0],\n    id: parts[2]\n}\n\nmsg.measurement=parts[1];\nmsg.payload=[data, tags];\n\nreturn msg;","outputs":1,"noerr":0,"x":380,"y":300,"wires":[["58191347.ec8f3c"]]},{"id":"e7285e5f.8b5a9","type":"debug","z":"4489e6f.9f73318","name":"","active":true,"tosidebar":true,"console":false,"tostatus":false,"complete":"false","x":390,"y":340,"wires":[]},{"id":"6276e35b.2b6c9c","type":"mqtt out","z":"c5669537.d71768","name":"","topic":"","qos":"","retain":"","broker":"1013011c.82c3ef","x":610,"y":240,"wires":[]},{"id":"8e0837cc.c1f918","type":"mqtt in","z":"c5669537.d71768","name":"","topic":"bioreactor/a/#","qos":"2","datatype":"auto","broker":"1013011c.82c3ef","x":270,"y":380,"wires":[["400c5bfc.824544","35ea21c8.4e550e"]]},{"id":"2082f79a.d82728","type":"debug","z":"c5669537.d71768","name":"","active":true,"tosidebar":true,"console":false,"tostatus":false,"complete":"false","x":610,"y":380,"wires":[]},{"id":"400c5bfc.824544","type":"function","z":"c5669537.d71768","name":"toString","func":"msg.payload = msg.payload.toString();\nreturn msg;","outputs":1,"noerr":0,"x":440,"y":380,"wires":[["2082f79a.d82728"]]},{"id":"96240e96.f99f4","type":"ui_text_input","z":"c5669537.d71768","name":"command","label":"Command","tooltip":"","group":"c0d97701.38fda8","order":1,"width":0,"height":0,"passthru":true,"mode":"text","delay":300,"topic":"","x":280,"y":240,"wires":[["16e37238.7e311e"]]},{"id":"35ea21c8.4e550e","type":"ui_text","z":"c5669537.d71768","group":"c0d97701.38fda8","order":2,"width":0,"height":0,"name":"","label":"Answer","format":"{{msg.payload}}","layout":"col-center","x":440,"y":440,"wires":[]},{"id":"16e37238.7e311e","type":"function","z":"c5669537.d71768","name":"setTopic","func":"let cmd = msg.payload;\n\nif (cmd !== '') {\n    msg.topic = `bioreactor/q/2/${cmd}`;\n}\n\nmsg.payload = '';\nreturn msg;","outputs":1,"noerr":0,"x":460,"y":240,"wires":[["6276e35b.2b6c9c"]]}]